# ChangeLog for schedule

*schedule-v6.2.0:
	Martin Väth <martin at mvath.de>:
	- Support socket-based activation of (x)inetd/systemd.
	  Thanks a lot to Christian Mock <cm at tahina.priv.at> for explaining
	  how to convert a file descriptor into an IO::Socket object
	- Fix ignoring of signals

*schedule-v6.1.0:
	Martin Väth <martin at mvath.de>:
	- Default user/group is now "schedule"; "nobody" is only a fallback
	- Slurp the whole password file in binary mode (but chomp()) so that
	  multiline or binary passwords can be used
	- Ignore signals HUP, PIPE, USR1, USR2
	- Work around bugs of the broken systemd

*schedule-v6.0.2:
	Martin Väth <martin at mvath.de>:
	- Replace 'EOF' by 1 to avoid stupid new perl warning

*schedule-v6.0.1:
	Martin Väth <martin at mvath.de>:
	- Use perl-5.12 package versioning
	- Require correct minimal versions of perl and its modules

*schedule-v6.0.0:
	Martin Väth <martin at mvath.de>:
	- Pass to dotted-decimal version format and be more permissive
	- Fix output of error/warning messages
	- Fix behaviour in too early fatal errors

*schedule-5.3:
	Martin Väth <martin at mvath.de>:
	- list: different colors if user = root or $HOSTTEXTSAVE != $HOSTTEXT
	- queue: change default --text

*schedule-5.2:
	Martin Väth <martin at mvath.de>:
	- schedule-tmux: Use SCHEDULE_REMAIN as the default
	- fix regression: repeated cancel can change exit status repeatedly

*schedule-5.1:
	Martin Väth <martin at mvath.de>:
	- Set status line/windows title. Introduce corresponding options:
	- --{no-,}status --{no-,}title --text=...
	- schedule-tmux: support man; error out if unknown command is used
	- schedule-tmux: support --{no-,}remain and make --remain the default
	- schedule-tmux is now a POSIX shell script
	- Provide shell helper "schedule quote"

*schedule-5.0:
	Martin Väth <martin at mvath.de>:
	- Provide schedule-tmux script
	- Provide --alpha, --alpha-ignore, --ignore, --immediate
	- schedule: fix race with --bg run/exec
	- schedule-server: fix bugs in permission handling
	- schedule-server: fix race with --bg/--daemon
	- schedule-server: close server's socket also in case of error exit

*schedule-4.2:
	Martin Väth <martin at mvath.de>:
	- Fix manpage handling

*schedule-4.1:
	Martin Väth <martin at mvath.de>:
	- Fix exit status reporting (regression of schedule-4.0)
	- start/queue: print job address and exit status to stdout unless quiet
	- Split job list arguments
	- Slightly reorganize modules
	- zsh-completion: fix --file

*schedule-4.0:
	Martin Väth <martin at mvath.de>:
	- Split into modules to minimize memory footprint

*schedule-3.1:
	Martin Väth <martin at mvath.de>:
	- Protocoll cleanup (\0 separators), making data sanitizing superfluous
	- minor code cleanup
	- man: document HOSTNAME etc
	- man: document --exit and cancel in more detail
	- man: rearrangements and cosmetical improvements

*schedule-3.0:
	Martin Väth <martin at mvath.de>:
	- Support job addresses, job address ranges (also relative ones)
	- list displays now job addresses
	- list handles --quiet differently
	- status does not imply --quiet
	- new commands: address, number

*schedule-2.2:
	Martin Väth <martin at mvath.de>:
	- Support nonpositive numbers in all job ranges; explain consequences

*schedule-2.1:
	Martin Väth <martin at mvath.de>:
	- Fix checks for ranges

*schedule-2.0:
	Martin Väth <martin at mvath.de>:
	- Let exec, run, wait support static jobs and static job ranges to
	  "cancel" the race condition as desired.
	- Make parallel and bg race-free, parallel waiting only for the
	  processes just started
	- Let --daemon not discard stderr (in contrast to --detach)
	- New server option -q: make server more verbose if -q is not passed
	- Improve list output
	- internal restructure of server loop

*schedule-1.1:
	Martin Väth <martin at mvath.de>:
	- Introduce --bg, --daemon
	- Make the communication protocol safe concerning message length
	- Due to the previous change, strange communication bugs for some
	  commands are now fixed. For instance, when using encryption,
	  "schedule exec" was failing when looping over more than one process
	- Do not set executable bit on libraries

*schedule-1.0:
	Martin Väth <martin at mvath.de>:
	- Strengthen encryption by using random first blocks; this should
	  greatly reduce known plaintext attacks by MITM

*schedule-0.15:
	Martin Väth <martin at mvath.de>:
	- Introduce encryption: --password --passfile

*schedule-0.14:
	Martin Väth <martin at mvath.de>:
	- Support CWD; introduce --nodir
	- Support HOSTTEXT (default to uname -m); introduce --nohost
	- Improve zsh completion

*schedule-0.13:
	Martin Väth <martin at mvath.de>:
	- Fix zsh completion

*schedule-0.12:
	Martin Väth <martin at mvath.de>:
	- Introduce --no-user --no-command to customize list output

*schedule-0.11:
	Martin Väth <martin at mvath.de>:
	- Support for colored ouput (if Term::ANSIColor is available)
	- Try to set process name more appropriately

*schedule-0.10:
	Martin Väth <martin at mvath.de>:
	- Add --ok, --finished, --started to start-or-queue
	- Add query commands: ok, finished, started
	- Add [user@host] to job listing
	- Fix crash in signal handling (regression from 0.8)
	- Fix crash with -l (regression from 0.8)
	- Fix interpretation/checking of job numbers/ranges in some cases
	- Use serverid so that orphant jobs cannot confuse a restarted server
	- Improve message of schedule -l if server cannot be found
	- README: First example with unqueued shutdown command

*schedule-0.9:
	Martin Väth <martin at mvath.de>:
	- Introduce start-or-queue and even recommend its usage by mentioning
	  it in the main examples

*schedule-0.8:
	Martin Väth <martin at mvath.de>:
	- Allow unquoted environment variables inside environment variables
	- Use library for common functions, putting connection data to a class

*schedule-0.7:
	Martin Väth <martin at mvath.de>:
	- Do not allow permutation of options with arguments:
	  This simplifies passing options to commands or negative job numbers

*schedule-0.6:
	Martin Väth <martin at mvath.de>:
	- Fix bug in signal handling: cancel always correct job
	- Fix exit status of some commands like "schedule run"
	- Let 0 be the last job (instead of last job + 1) for
	  certain commands (run, bg, wait, cancel, list, status)
	- Send message length for nontrivial tasks

*schedule-0.5:
	Martin Väth <martin at mvath.de>:
	- Introduce SCHEDULE_OPTS and SCHEDULE_SERVER_OPTS
	- Quote newlines correctly

*schedule-0.4:
	Martin Väth <martin at mvath.de>:
	- Support optionally Unix domain sockets instead of TCP sockets.
	- Improve README, giving hints about security

*schedule-0.3:
	Martin Väth <martin at mvath.de>:
	- Handle timeouts

*schedule-0.2:
	Martin Väth <martin at mvath.de>:
	- Startup server as nobody. Fix openrc init

*schedule-0.1:
	Martin Väth <martin at mvath.de>:
	- Start from scratch, motivated by https://github.com/vaeth/starter/
